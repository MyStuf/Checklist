<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="jquery-1.10.2.min.js"> </script>
    <script type="text/javascript" src="jquery.base64.js"> </script>
    <script type="text/javascript" src="data-translator.js"> </script>
    <style type="text/css"> @import "css/style.css"; </style>
    <title>RF</title>
</head>
<body>

<script type="text/javascript">

    $(function() {
        var data = $.readData();
        if (data.foo4) {
            alert(data.foo4);
        }
    });

    //send data
    $(function($) {

        var computeX = function () {
            if (true) {
                return  4;
            } else if (true) {
                return 5;
            }
            return 25;

        };

        var data = {
            foo1 : $("div").text(),
            myX : computeX(),
            foo2 : "dddwewew",
            foo4 : "rtree"
        };

        $.sendData("a.nextPage", data);
    });

</script>

<a class="nextPage" href="sample.html">testme</a>

<div id="action_dfff" class="block">
    sdfsdlfkjsfd


    <!--<div id="cb">-->
        <!--<input type="checkbox"/>-->
        <!--<label></label>-->
        <!--<span></span>-->
        <!--<span></span>-->
    <!--</div>-->

    <div class="block2"></div>
    <button id="clear">CLEAR</button>
    <button id="check">CHECK</button>

    <script type="text/javascript">
        $(function(){
            Data = {
                form1 : {
                     cn1 : {
                        name : "aAAA",
                        checked : "foo",
                        unchecked : "bar"
                    },
                    bnn:
                     {
                        name : "e333333aAAsdfsd123123123A",
                        checked : "f124532453123oo",
                        unchecked : "b1ewrwqre23123ar"
                    },
                    ddd:
                     {
                        name : "45665dfgsdgfaAA123123123A",
                        checked : "fsdfsdgf123123oo",
                        unchecked : "b1sdgfsdgf23123ar"
                    },
                    eee:
                     {
                        name : "kjhgv,mnbvaAA123123123A",
                        checked : "f1vcvb23123oo",
                        unchecked : "b1cvbcvb23123ar"
                    }
        }

            };


            var checboxis = function(dest, data) {
                var el = $("<div><input type='checkbox'/> <label></label> <span></span> <span></span></div>");
                dest.append(el);
                var first = el.find("span:first");
                var last = el.find("span:last");

                first.hide();
                last.hide();

                first.text(data.checked);
                last.text(data.unchecked);
                el.find("label").text(data.name);

                el.find("input").change(function() {

                    if ($(this).is(":checked")) {
                        data.userValue = first.text();
                        first.show();
                        last.hide();
                    } else {
                        data.userValue = last.text();
                        last.show();
                        first.hide();
                    }
                });

            };



            var renderForm = function(data) {
                $.each(data, function(idx, s) {
                    checboxis($("div.block2"), s);
                });


                $("#clear").click(Â function() {
                    $("div.block2 input[type='checkbox']:checked").click();
                    $("div.block2 span").hide();
                });

                $("#check").click( function() {
                    $("div.block2 ")
                });
            };


            renderForm(Data.form1);

            //init(Data.form1.bt1);
            //        http://api.jquery.com/each/
//            $("div.block").each(function(idx) {
//
//                init(node, Data.form1.bt2);
//
//                $(this).append(node);
//            });

        });
    </script>
</div>


</body>
</html>
