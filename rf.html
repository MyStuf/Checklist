<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="jquery-1.10.2.min.js"></script>
    <style type="text/css"> @import "css/style.css"; </style>
    <script type="text/javascript" src="tests/Data_list.js"></script>
    <script type="text/javascript" src="tests/Data_render.js"></script>
    <title>RF</title>
</head>
<body>

<h1>Командировка по России</h1>

<div class="block">
    <h3><label for="target">Цель командировки:</label></h3>
    <select id="target">
        <option value=""></option>
        <option value="1">Участие в производственном совещании</option>
        <option value="2">Участие в конференции</option>
        <option value="3">Участие в семинаре</option>
    </select>
    <button id="targetButton" disabled="disabled">Select</button>
</div>

<div id="target1Block" class="hidden block">
    <h3>Условия, которые должны быть соблюдены:</h3>
    <div id="checkTarget1"></div>
</div>

<div id="target2Block" class="hidden block">
    <h3>Командировочные документы:</h3>
    Документы включают в себя:<br/>
    <h3> Приказ (распоряжение) о направлении в командировку.</h3> Оформляется на основании служебного задания. Подтверждает производственную необходимость понесенных расходов для целей налога на прибыль. Используется для учета труда и его оплаты. Формируется в T&E Oasis Application автоматически при создании запроса на аванс.<br/>
    Детали:<br/>
    Страна - выбирается из выпадающего списка на английском языке и автоматически конвертируется на русский язык в первичные учетные документы при формировании
    запроса на аванс.<br/>
    Город - впечатывается сотрудником в форму запроса на аванс вручную и должен быть написан на русском языке.<br/>
    Цель командировки – выбирается сотрудником из выпадающего списка при создании запроса на аванс (всегда на русском языке).<br/>
    <h3>Условия:</h3>
    <div id="checkTarget2"></div>
</div>

<div id="target02Block" class="hidden block">
    <h3> Командировочное удостоверение.</h3> Все данные совпадают с данными в приказе.<br/>
        Оформляется для командировок на территории стран участников СНГ, в случае если сотрудник едет по паспорту РФ.<br/>
        Оформляется на основании Приказа (распоряжения) о направлении работника в командировку в одном экземпляре и подписывается уполномоченным лицом Компании, вручается работнику и находится у него в течение всего срока командировки. Подтверждает производственный характер командировки, на основании которых определяется ее продолжительность и срок пребывания сотрудника в командировке - дату приезда в пункт назначения и дату выезда из него. Формируется в T&E Oasis Application автоматически при создании запроса на аванс.<br/>
    <h3>Условия:</h3>
    <div id="checkTarget02"></div>
</div>
<div id="target03Block" class="hidden block">
    <h3>Служебное задание</h3>Подтверждает срок пребывания сотрудника в командировке. Является первичным документом при оформлении командировки. По возвращению из командировки сотрудник заполняет краткий отчет о выполнении задания. Текст отчета о выполнении служебного задания не должен включать в себя аббревиатур, сокращений и иностранных слов. Из отчета должна быть понятна тематика и производственная необходимость командировки.
    <h3>Условия:</h3>
    <div id="checkTarget03"></div>
</div>
<div id="targetDecisionBlock" class="hidden block">
    <h3>Выберете решение:</h3>
    <button id="deduct" value="deduct" name="deduct">Deductible</button>
    <button id="non-deduct" value="non-deduct" name="non-deduct">Non-deductible</button>
</div>

<div id="targetExpensesMode" class="hidden block">
    <h3 >Каким образом сотрудник отчитывается:</h3>
    <button id="per">Per Diem</button>
    <button id="fakt">Expenses</button>
</div>

<br/>
<br/>
<br/>
<div id="result1" class="hidden block">
<a href="#" class="test">Показать выбраные значения</a>
</div>

<script type="text/javascript">
    $(function () {
        $("div.hidden").hide();

        $("#target").change(function() {
            if ($(this).val() === "") {
                $("#targetButton").attr("disabled", "disabled");
            } else {
                $("#targetButton").removeAttr("disabled");
            }
        });

        $("#targetButton").click(function () {
            var target = $("#target");
            if (target.val() === "1") {
                $("#target1Block").show();
                $(this).prop('disabled', 'disabled');
                target.prop('disabled', 'disabled');
            } else {
                alert("Not implemented! Choose option!!")
            }
            return false;
        });

        $("#deduct").click(function () {
            $("#targetExpensesMode").show();
        });

        $("#non-deduct").click(function () {
            alert("sorry this page under construction!!");
        });

        $("fakt").click(function () {
            alert("sorry this page under construction!!");
        });

        $("#per").click(function () {
            location.href = "RFDeduct.html"
        });

        $("#fact").click(function () {
            alert("sorry this page under construction!!");
        });

        var handle_1 = Anna.FormRender.renderCheckboxSection($("div#checkTarget1"), Anna.Forms.Data.form3);
        var handle_2 = Anna.FormRender.renderCheckboxSection($("div#checkTarget2"), Anna.Forms.Data.form4);
        var handle_3 = Anna.FormRender.renderCheckboxSection($("div#checkTarget02"), Anna.Forms.Data.form5);
        var handle_4 = Anna.FormRender.renderCheckboxSection($("div#checkTarget03"), Anna.Forms.Data.form6);


        handle_1.nextClick(function () {
            $("#target2Block").show();
        });

        handle_2.nextClick(function () {
            $("#target02Block").show();
        });

        handle_3.nextClick(function () {
            $("#target03Block").show();
        });

        handle_4.nextClick(function () {
            $("#targetDecisionBlock").show();
            $("#result1").show();
        });
        $("a.test").click(function () {
            $("#result1").text(JSON.stringify(
                    {
                        form_1: handle_1(),
                        form_2: handle_2(),
                        form_3: handle_3(),
                        form_4: handle_4()
                    }
            ));
            return false;
        });
    });

</script>
</body>

</html>
